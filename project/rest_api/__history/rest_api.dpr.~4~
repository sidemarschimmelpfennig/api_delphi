program rest_api;

{$APPTYPE CONSOLE}

{$R *.res}

uses
  Horse,
  users.api.controller in '..\..\src\controllers\api\users.api.controller.pas',
  api.routes in '..\..\src\routes\api.routes.pas';

var
  App: THorse;
begin
  App := THorse.Create( 9000 );

  App.Get('/ping',
    procedure(Req: THorseRequest; Res: THorseResponse; Next: TProc )
    begin
      Res.Send('pong');
    end);

  App.Listen();
end.
